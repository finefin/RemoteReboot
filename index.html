<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="shortcut icon" type="image/png" href="favicon.png"/>
    <title>RemoteReboot</title>

</head>

<body bgcolor="black">
  <div align="center" >
    <div style = "font-size:28px; color: white " ><b>HINTPAD for Windows</b><br>Simple Remote</div>
    <br>
    <button id="shutdown">SHUT DOWN</button>
    <br>
    <button id="reboot">REBOOT</button>
  </div>

      <script>

          document.getElementById('reboot').addEventListener('click', () => {
              sendRoomEvent ('reboot');
          }, this);

          document.getElementById('shutdown').addEventListener('click', () => {
            sendRoomEvent ('shutdown');
          }, this);

          function sendRoomEvent (message) {
                console.log("event -> ", message);
                const host = window.location.hostname;
                var data = JSON.stringify( {"action": message} );
                var xhr = new XMLHttpRequest();
                xhr.open("POST", 'http://'+host+':3015', true);
               xhr.setRequestHeader('Content-Type', 'text/plain');
               xhr.send(data); 
          }

      </script>
  </body>
  </html>
